<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eternal DB</title>
</head>
<body>
    <header>
        <h1>Eternal DB usage guide</h1>
    </header>
    <main>
        <h2> Endpoints</h2>
        <p>All endpoints accepts queries and if no query is given it will post all data</p>
        <p>Example: localhost:3000/api/members?name=Er, will display all members with a name containg the letters er</p>
        <section>
            <h3>Guild</h3>
            <p>localhost:3000/api/guild</p>
        </section>
        <section>
            <h3>Employees</h3>
            <p>localhost:3000/api/employees</p>
        </section>
        <section>
            <h3>Members</h3>
            <p>localhost:3000/api/members</p>
        </section>
        <section>
            <h3>Quests</h3>
            <p>localhost:3000/api/quests</p>
        </section>
        <section>
            <h3>Health</h3>
            <p id="api-status">Checking API status...</p>
            <script>
                fetch('http://localhost:3000/api/health')
                    .then(response => response.json())
                    .then(data => {
                        let time;
                        if (data.uptime < 60) {
                            time = Math.round(data.uptime) + ' seconds';
                        } else if (data.uptime < 3600) {
                            time = Math.floor(data.uptime / 60) + ' minutes';
                        } else {
                            time = Math.floor(data.uptime / 3600) + ' hours';
                        }
                        document.getElementById('api-status').textContent = 'API Online for: ' + (time  || 'Offline');
                    })
                    .catch(() => {
                        document.getElementById('api-status').textContent = 'API Status: Unreachable';
                    });
            </script>
        </section>
    </main>
</body>
    <style>
        body{
            margin: 0;
            overflow: hidden;
        }
        header{
            h1{
                justify-self: center;
            }
            border-bottom: rgb(54, 54, 54) solid 1rem;
            margin-bottom: 5rem;
            margin: 0px;
            width: 100%;
            overflow: hidden;
            top: 0px;
        }
         main{
            justify-self: center;

            section{
                border: solid 0.2rem black;
                margin: 1px;
                justify-items: center;
            }
        }
        
    </style>
</html>
</html>